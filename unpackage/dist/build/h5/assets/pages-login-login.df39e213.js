import{s,q as i,u as o,o as t,c as e,d as l,w as a,a as r,b as n,e as u,F as d,r as p,i as g}from"./index.8f27103f.js";import{_ as m}from"./u-image.006f7853.js";import{_ as c,r as _}from"./uni-app.es.117eeecc.js";import{_ as f}from"./u-input.34f2184f.js";import{_ as h,a as y}from"./u-form.f29b17e9.js";import{_ as w}from"./u-button.b4b9cb03.js";import{_ as b,a as x}from"./u-row.74c7cb75.js";import{_ as U}from"./student1.ea1d0e48.js";import"./u-icon.aeca22ef.js";var L=c({data:()=>({login_id:"",login_id2:"",is_t:!1,isLogin:!1,loginUser:{u_id:"",u_pwd:""}}),methods:{async login(){console.log(this.loginUser),await this.$u.post("/student_user/login",this.loginUser),s("isLogin",!0),s("login_id",this.loginUser.u_id),s("is_t",!1),console.log(this.is_t),this.$u.toast("登陆成功!"),this.$u.route({url:"pages/classlist/classlist",type:"tab"})},async logout(){console.log(this.loginUser),s("isLogin",!1),console.log("isLogin is "+this.isLogin),i(),this.$u.toast("退出登录成功!"),this.$u.route({url:"pages/index/index"})},async register(){this.$u.route({url:"pages/register/register"})}},onShow(){this.isLogin=o("isLogin"),console.log("+++++"+this.isLogin)}},[["render",function(s,i,o,c,L,j){const k=_(p("u-image"),m),F=g,C=_(p("u-input"),f),V=_(p("u-form-item"),h),$=_(p("u-form"),y),v=_(p("u-button"),w),q=_(p("u-col"),b),I=_(p("u-row"),x);return t(),e(d,null,[L.isLogin?u("",!0):(t(),l(F,{key:0,class:"login"},{default:a((()=>[r(F,{style:{width:"300rpx","margin-top":"15%","margin-bottom":"50rpx"}},{default:a((()=>[r(k,{width:"100%",height:"300rpx",src:U,shape:"circle"})])),_:1}),r($,{style:{width:"90%","background-color":"#FFFFFF",padding:"0 20rpx"}},{default:a((()=>[r(V,null,{default:a((()=>[r(C,{modelValue:L.loginUser.u_id,"onUpdate:modelValue":i[0]||(i[0]=s=>L.loginUser.u_id=s),placeholder:"请输入账号"},null,8,["modelValue"])])),_:1}),r(V,null,{default:a((()=>[r(C,{modelValue:L.loginUser.u_pwd,"onUpdate:modelValue":i[1]||(i[1]=s=>L.loginUser.u_pwd=s),type:"password",placeholder:"请输入密码","password-icon":!0},null,8,["modelValue"])])),_:1})])),_:1}),r(F,{style:{width:"600rpx","margin-top":"70rpx"}},{default:a((()=>[r(I,{gutter:"16"},{default:a((()=>[r(q,{span:"6"},{default:a((()=>[r(v,{onClick:j.login,style:{width:"80%"},ripple:!0,type:"primary"},{default:a((()=>[n("登录")])),_:1},8,["onClick"])])),_:1}),r(q,{span:"6"},{default:a((()=>[r(v,{onClick:j.register,style:{width:"80%"},ripple:!0,type:"primary"},{default:a((()=>[n("注册")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})),L.isLogin?(t(),l(F,{key:1,style:{"margin-top":"5%","margin-bottom":"50rpx"}},{default:a((()=>[r(v,{onClick:j.logout,style:{width:"30%"},ripple:!0,type:"primary"},{default:a((()=>[n("退出登录")])),_:1},8,["onClick"])])),_:1})):u("",!0)],64)}],["__scopeId","data-v-4bcf646b"]]);export{L as default};
