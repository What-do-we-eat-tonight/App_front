import{E as t,u as e,G as s,x as o,o as n,d as a,w as i,c as u,y as c,F as l,r,i as m,a as h,b as d,t as f,p as g}from"./index.8f27103f.js";import{_ as v}from"./uni-card.9cdbe16e.js";import{_,r as p}from"./uni-app.es.117eeecc.js";var T=_({components:{},data:()=>({items:[]}),methods:{getMore(){t({title:"点击查看更多",icon:"none"})},async getitems(){let t={tno:e("login_id"),cno:e("cno")};await this.$u.post("/teacher_user/evaluation",t).then((t=>{this.items=t,console.log(t)})),console.log(this.items)},gtouchstart(t){var e=this;return this.timeOutEvent=setTimeout((function(){e.longPress(t)}),500),!1},showDeleteButton(t){return clearTimeout(this.timeOutEvent),0!=this.timeOutEvent&&console.log("点击但未长按"),!1},gtouchmove(){clearTimeout(this.timeOutEvent),this.timeOutEvent=0},async longPress(t){this.timeOutEvent=0;var o=this;o.num=t,console.log(o.num),s({title:"确认删除评价",content:"请确认是否删除这条评价",success:async function(t){if(t.confirm){o.dele=!0;let t={eva_no:o.num,user_id:e("login_id")};console.log(t),await o.$u.post("student_user/delete_eva",t)}else t.cancel}})}},onLoad(){this.getitems()},onPullDownRefresh(){console.log("refresh"),this.getitems(),setTimeout((function(){o()}),1e3)}},[["render",function(t,e,s,o,_,T){const E=g,w=p(r("uni-card"),v),O=m;return n(),a(O,{class:"container",blurEffect:"light"},{default:i((()=>[(n(!0),u(l,null,c(_.items,((t,s)=>(n(),a(w,{isFull:"","is-shadow":!1,onTouchstart:e=>T.gtouchstart(t.evaluation_num),onTouchmove:e[0]||(e[0]=t=>T.gtouchmove()),onTouchend:e=>T.showDeleteButton(t)},{default:i((()=>[h(E,null,{default:i((()=>[d(f(t.C_evaluation_text),1)])),_:2},1024)])),_:2},1032,["onTouchstart","onTouchend"])))),256))])),_:1})}],["__scopeId","data-v-77df207a"]]);export{T as default};
