import{A as t,B as e,C as a,r as i,o as l,d as s,w as o,a as r,n,b as u,t as d,e as c,f as p,k as h,i as f,s as g,u as m,c as y,F as b}from"./index.8f27103f.js";import{_}from"./u-icon.aeca22ef.js";import{_ as k,r as x}from"./uni-app.es.117eeecc.js";import{_ as w}from"./u-image.006f7853.js";import{_ as S}from"./u-input.34f2184f.js";import{_ as v,a as B}from"./u-form.f29b17e9.js";import{_ as I}from"./u-button.b4b9cb03.js";import{_ as C,a as j}from"./u-row.74c7cb75.js";import{_ as z}from"./teacher1.3a1e8284.js";let T=t(),F={};var $=k({name:"u-navbar",props:{height:{type:[String,Number],default:""},backIconColor:{type:String,default:"#606266"},backIconName:{type:String,default:"nav-back"},backIconSize:{type:[String,Number],default:"44"},backText:{type:String,default:""},backTextStyle:{type:Object,default:()=>({color:"#606266"})},title:{type:String,default:""},titleWidth:{type:[String,Number],default:"250"},titleColor:{type:String,default:"#606266"},titleBold:{type:Boolean,default:!1},titleSize:{type:[String,Number],default:32},isBack:{type:[Boolean,String],default:!0},background:{type:Object,default:()=>({background:"#ffffff"})},isFixed:{type:Boolean,default:!0},immersive:{type:Boolean,default:!1},borderBottom:{type:Boolean,default:!0},zIndex:{type:[String,Number],default:""},customBack:{type:Function,default:null}},data:()=>({menuButtonInfo:F,statusBarHeight:T.statusBarHeight}),computed:{navbarInnerStyle(){let t={};return t.height=this.navbarHeight+"px",t},navbarStyle(){let t={};return t.zIndex=this.zIndex?this.zIndex:this.$u.zIndex.navbar,Object.assign(t,this.background),t},titleStyle(){let t={};return t.left=(T.windowWidth-e(this.titleWidth))/2+"px",t.right=(T.windowWidth-e(this.titleWidth))/2+"px",t.width=e(this.titleWidth)+"px",t},navbarHeight(){return this.height?this.height:44}},created(){},methods:{goBack(){"function"==typeof this.customBack?this.customBack.bind(this.$u.$parent.call(this))():a()}}},[["render",function(t,e,a,g,m,y){const b=f,k=x(i("u-icon"),_);return l(),s(b,{class:""},{default:o((()=>[r(b,{class:h(["u-navbar",{"u-navbar-fixed":a.isFixed,"u-border-bottom":a.borderBottom}]),style:n([y.navbarStyle])},{default:o((()=>[r(b,{class:"u-status-bar",style:n({height:m.statusBarHeight+"px"})},null,8,["style"]),r(b,{class:"u-navbar-inner",style:n([y.navbarInnerStyle])},{default:o((()=>[a.isBack?(l(),s(b,{key:0,class:"u-back-wrap",onClick:y.goBack},{default:o((()=>[r(b,{class:"u-icon-wrap"},{default:o((()=>[r(k,{name:a.backIconName,color:a.backIconColor,size:a.backIconSize},null,8,["name","color","size"])])),_:1}),a.backText?(l(),s(b,{key:0,class:"u-icon-wrap u-back-text u-line-1",style:n([a.backTextStyle])},{default:o((()=>[u(d(a.backText),1)])),_:1},8,["style"])):c("",!0)])),_:1},8,["onClick"])):c("",!0),a.title?(l(),s(b,{key:1,class:"u-navbar-content-title",style:n([y.titleStyle])},{default:o((()=>[r(b,{class:"u-title u-line-1",style:n({color:a.titleColor,fontSize:a.titleSize+"rpx",fontWeight:a.titleBold?"bold":"normal"})},{default:o((()=>[u(d(a.title),1)])),_:1},8,["style"])])),_:1},8,["style"])):c("",!0),r(b,{class:"u-slot-content"},{default:o((()=>[p(t.$slots,"default",{},void 0,!0)])),_:3}),r(b,{class:"u-slot-right"},{default:o((()=>[p(t.$slots,"right",{},void 0,!0)])),_:3})])),_:3},8,["style"])])),_:3},8,["style","class"]),a.isFixed&&!a.immersive?(l(),s(b,{key:0,class:"u-navbar-placeholder",style:n({width:"100%",height:Number(y.navbarHeight)+m.statusBarHeight+"px"})},null,8,["style"])):c("",!0)])),_:3})}],["__scopeId","data-v-962c6344"]]);var L=k({data:()=>({t_id:"",is_t:!1,isLogin:!1,loginTeacher:{teacher_id:"",teacher_pwd:""}}),methods:{async login(){await this.$u.post("/teacher_user/login",this.loginTeacher),g("is_t",!0),g("isLogin",!0),g("login_id",this.loginTeacher.teacher_id),this.$u.toast("登陆成功!"),this.$u.route({url:"pages/classlist/classlist",type:"tab"})},logout(){g("is_t",!1),g("isLogin",!1),this.$u.toast("退出登录成功!"),this.$u.route({url:"pages/index/index"})},async register(){this.$u.route({url:"pages/teacher_register/teacher_register"})}},onShow(){this.is_t=m("is_t"),this.isLogin=m("isLogin"),console.log("+++++"+this.isLogin)}},[["render",function(t,e,a,n,d,p){const h=x(i("u-navbar"),$),g=x(i("u-image"),w),m=f,_=x(i("u-input"),S),k=x(i("u-form-item"),v),T=x(i("u-form"),B),F=x(i("u-button"),I),L=x(i("u-col"),C),N=x(i("u-row"),j);return l(),y(b,null,[d.isLogin?c("",!0):(l(),s(m,{key:0,class:"login"},{default:o((()=>[r(h,{"back-text":"返回",title:"剑未配妥，出门已是江湖"}),r(m,{style:{width:"300rpx","margin-top":"15%","margin-bottom":"50rpx"}},{default:o((()=>[r(g,{width:"100%",height:"300rpx",src:z,shape:"circle"})])),_:1}),r(T,{style:{width:"90%","background-color":"#FFFFFF",padding:"0 20rpx"}},{default:o((()=>[r(k,null,{default:o((()=>[r(_,{modelValue:d.loginTeacher.teacher_id,"onUpdate:modelValue":e[0]||(e[0]=t=>d.loginTeacher.teacher_id=t),placeholder:"请输入账号"},null,8,["modelValue"])])),_:1}),r(k,null,{default:o((()=>[r(_,{modelValue:d.loginTeacher.teacher_pwd,"onUpdate:modelValue":e[1]||(e[1]=t=>d.loginTeacher.teacher_pwd=t),type:"password",placeholder:"请输入密码","password-icon":!0},null,8,["modelValue"])])),_:1})])),_:1}),r(m,{style:{width:"600rpx","margin-top":"70rpx"}},{default:o((()=>[r(N,{gutter:"16"},{default:o((()=>[r(L,{span:"6"},{default:o((()=>[r(F,{onClick:p.login,style:{width:"80%"},ripple:!0,type:"primary"},{default:o((()=>[u("登录")])),_:1},8,["onClick"])])),_:1}),r(L,{span:"6"},{default:o((()=>[r(F,{onClick:p.register,style:{width:"80%"},ripple:!0,type:"primary"},{default:o((()=>[u("注册")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})),d.isLogin?(l(),s(m,{key:1,style:{"margin-top":"5%","margin-bottom":"50rpx"}},{default:o((()=>[r(F,{onClick:p.logout,style:{width:"30%"},ripple:!0,type:"primary"},{default:o((()=>[u("退出登录")])),_:1},8,["onClick"])])),_:1})):c("",!0)],64)}],["__scopeId","data-v-4a8456fd"]]);export{L as default};
