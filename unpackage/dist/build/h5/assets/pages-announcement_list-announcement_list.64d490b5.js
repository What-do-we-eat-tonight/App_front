import{u as t,x as s,o as n,d as e,w as a,c as o,y as i,F as c,r as l,i as u,a as r,e as m,b as _,t as f}from"./index.8f27103f.js";import{_ as h}from"./u-badge.68c69927.js";import{_ as p,r as d}from"./uni-app.es.117eeecc.js";import{_ as g}from"./u-button.b4b9cb03.js";import{_ as b}from"./u-cell-item.11f12ec4.js";import{_ as y,a as k}from"./uni-collapse.61d70091.js";import"./u-icon.aeca22ef.js";import"./uni-icons.414bc032.js";var j=p({data:()=>({c:{cno:"",sno:""},a:{ano:"",sno:""},announcement_list:[],announcement_state:[],is_state:[],title:[{}],t:""}),methods:{async test(){this.c.sno=t("login_id"),this.c.cno=t("cno"),this.announcement_list=await this.$u.post("/student_user/announcement-list",this.c),console.log(this.announcement_list)},async changestate(t){this.is_state[t]=!1},async confirm(s){this.a.sno=t("login_id"),this.a.ano=this.announcement_list[s].ano,this.announcement_state=await this.$u.post("/student_user/confirm-announcement",this.a),this.announcement_list=await this.$u.post("/student_user/announcement-list",this.c),console.log(this.announcement_list),this.is_state[s]=this.announcement_list[s].ifConfirm},get_title(t){var s=t.split("",10);return s[0]=s[0]+s[1]+s[2]+s[3]+s[4]+s[5]+s[6]+s[7]+s[8]+s[9],s[0]},async toback(t){console.log("========",t),this.$u.route({url:"/pages/class/class"})}},onShow(){this.test()},onPullDownRefresh(){console.log("refresh"),this.test(),setTimeout((function(){s()}),1e3)},onBackPress(s){console.log(s),"backbutton"==s.from&&(t("is_t")?this.$u.route("/pages/teacher_class/teacher_class"):this.$u.route("/pages/class/class"))}},[["render",function(t,s,p,j,w,C){const $=d(l("u-badge"),h),x=u,v=d(l("u-button"),g),P=d(l("u-cell-item"),b),S=d(l("uni-collapse-item"),y),B=d(l("uni-collapse"),k);return n(),e(x,{class:"index"},{default:a((()=>[(n(!0),o(c,null,i(w.announcement_list,((t,s)=>(n(),e(x,{key:s,style:{"margin-top":"15px"}},{default:a((()=>[r(B,{accordion:!0,onClick:t=>C.changestate(s)},{default:a((()=>[r(S,{align:"left",title:C.get_title(t.content).toString(),open:!0},{default:a((()=>[t.ifConfirm?m("",!0):(n(),e($,{key:0,"is-dot":!0,type:"error",offset:[10,10]})),r(P,{arrow:!1},{default:a((()=>[r(x,{align:"left"},{default:a((()=>[_(f(t.content),1)])),_:2},1024),_(f(t.submit_time),1),t.ifConfirm?m("",!0):(n(),e(v,{key:0,type:"info",class:"content",onClick:t=>C.confirm(s)},{default:a((()=>[_(" 确定收到")])),_:2},1032,["onClick"]))])),_:2},1024)])),_:2},1032,["title"])])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1})}],["__scopeId","data-v-cb9a693e"]]);export{j as default};
