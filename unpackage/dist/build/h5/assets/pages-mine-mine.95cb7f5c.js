import{u as s,G as o,s as t,o as i,d as e,w as n,a,b as l,e as c,m as r,r as u,i as f}from"./index.8f27103f.js";import{_ as g}from"./u-button.b4b9cb03.js";import{_ as h,r as _}from"./uni-app.es.117eeecc.js";var d=h({data:()=>({isLogin:!1,is_t:!1,loginTeacher:{teacher_id:"",teacher_pwd:""},info:{}}),methods:{get_message(){this.isLogin=s("isLogin"),this.is_t=s("is_t"),console.log("isLogin=",this.isLogin)},async my_info(){let t={user_id:s("login_id")};console.log(t),this.info=await this.$u.post("student_user/getuserinfo",t);let i=this;console.log(this.info),s("is_t")?o({title:"个人信息",content:i.info[0].teacher_no+"\n"+this.info[0].teacher_name+"\n"+this.info[0].email,success:function(s){s.confirm?console.log("用户点击确定"):s.cancel&&console.log("用户点击取消")}}):o({title:"个人信息",content:i.info[0].sno+"\n"+this.info[0].sname+"\n"+this.info[0].major+"\n"+this.info[0].classes,success:function(s){s.confirm?console.log("用户点击确定"):s.cancel&&console.log("用户点击取消")}})},logout(){t("is_t",!1),t("isLogin",!1),this.$u.toast("退出登录成功!"),this.$u.route({url:"pages/index/index"})},async change_password(){this.$u.route({url:"pages/change_password/change_password"})}},onShow(){this.get_message()}},[["render",function(s,o,t,h,d,m){const p=r,y=_(u("u-button"),g),w=f;return i(),e(w,null,{default:n((()=>[a(p,{type:"default",onClick:o[0]||(o[0]=s=>m.change_password())},{default:n((()=>[l("修改密码")])),_:1}),a(p,{type:"default",onClick:o[1]||(o[1]=s=>m.my_info())},{default:n((()=>[l("查看个人信息")])),_:1}),d.isLogin?(i(),e(w,{key:0,style:{"margin-top":"5%","margin-bottom":"50rpx"}},{default:n((()=>[a(y,{onClick:m.logout,style:{width:"30%"},ripple:!0,type:"primary"},{default:n((()=>[l("退出登录")])),_:1},8,["onClick"])])),_:1})):c("",!0)])),_:1})}]]);export{d as default};
